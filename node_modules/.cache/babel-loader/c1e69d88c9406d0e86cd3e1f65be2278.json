{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sergeyleontiev/Desktop/ReactProject/ReactMovies/src/Layout/Main/Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Movies } from \"../../Components/Movies/Movies\";\nimport { Preloader } from \"../../Components/Preloader/Preloader\";\nimport { Search } from \"../../Components/Search/Search\";\nimport \"./Main.css\";\n\nconst Main = () => {\n  _s();\n\n  state = {\n    movies: [],\n    loading: true\n  };\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true); // componentDidMount() {\n  //   fetch(`http://www.omdbapi.com/?apikey=8d1cc66c&s=Avengers`)\n  //     .then((response) => response.json())\n  //     .then(post => this.setState({\n  //         movies: post.Search,\n  //         loading: false,\n  //     }))\n  // }\n\n  const changeBg = id => {\n    const fillArr = this.state.movies.filter(item => item.imdbID === id);\n    document.body.style.backgroundImage = `url(${fillArr[0].Poster})`;\n  };\n\n  const searchMovie = (movieName, movieType) => {\n    this.setState({\n      loading: true\n    });\n    fetch(`http://www.omdbapi.com/?apikey=  &s=${movieName}${movieType !== \"all\" ? `&type=${movieType}` : \"\"}`).then(response => response.json()).then(post => this.setState({\n      movies: post.Search,\n      loading: false\n    }));\n  };\n\n  useEffect(() => {\n    fetch(`http://www.omdbapi.com/?apikey=8d1cc66c&s=Avengers`).then(response => response.json()).then(post => console.log(post));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"mainContainer\",\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      searchMovie: searchMovie\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), !loading ? /*#__PURE__*/_jsxDEV(Movies, {\n      changeBg: changeBg,\n      movies: movies\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Main, \"72fwlr08e18pammocXupWZZTEwc=\");\n\n_c = Main;\nexport { Main };\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/sergeyleontiev/Desktop/ReactProject/ReactMovies/src/Layout/Main/Main.jsx"],"names":["React","useEffect","useState","Movies","Preloader","Search","Main","state","movies","loading","setMovies","setLoading","changeBg","id","fillArr","filter","item","imdbID","document","body","style","backgroundImage","Poster","searchMovie","movieName","movieType","setState","fetch","then","response","json","post","console","log"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,gCAAvB;AACA,SAASC,SAAT,QAA0B,sCAA1B;AACA,SAASC,MAAT,QAAuB,gCAAvB;AACA,OAAO,YAAP;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACjBC,EAAAA,KAAK,GAAG;AACNC,IAAAA,MAAM,EAAE,EADF;AAENC,IAAAA,OAAO,EAAE;AAFH,GAAR;AAKA,QAAM,CAACD,MAAD,EAASE,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACO,OAAD,EAAUE,UAAV,IAAwBT,QAAQ,CAAC,IAAD,CAAtC,CAPiB,CASjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMU,QAAQ,GAAIC,EAAD,IAAQ;AACvB,UAAMC,OAAO,GAAG,KAAKP,KAAL,CAAWC,MAAX,CAAkBO,MAAlB,CAA0BC,IAAD,IAAUA,IAAI,CAACC,MAAL,KAAgBJ,EAAnD,CAAhB;AACAK,IAAAA,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,eAApB,GAAuC,OAAMP,OAAO,CAAC,CAAD,CAAP,CAAWQ,MAAO,GAA/D;AACD,GAHD;;AAKA,QAAMC,WAAW,GAAG,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AAC1C,SAAKC,QAAL,CAAc;AACVjB,MAAAA,OAAO,EAAE;AADC,KAAd;AAGFkB,IAAAA,KAAK,CACF,uCAAsCH,SAAU,GAC/CC,SAAS,KAAK,KAAd,GAAuB,SAAQA,SAAU,EAAzC,GAA6C,EAC9C,EAHE,CAAL,CAKGG,IALH,CAKSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EALtB,EAMGF,IANH,CAMQG,IAAI,IAAI,KAAKL,QAAL,CAAc;AAC1BlB,MAAAA,MAAM,EAAEuB,IAAI,CAAC1B,MADa;AAE1BI,MAAAA,OAAO,EAAE;AAFiB,KAAd,CANhB;AAUD,GAdD;;AAgBAR,EAAAA,SAAS,CAAC,MAAM;AACd0B,IAAAA,KAAK,CAAE,oDAAF,CAAL,CACGC,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,IAAI,IAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAFhB;AAGD,GAJQ,EAIN,EAJM,CAAT;AAME,sBACE;AAAM,IAAA,SAAS,EAAC,eAAhB;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,WAAW,EAAER;AAArB;AAAA;AAAA;AAAA;AAAA,YADF,EAEG,CAACd,OAAD,gBACC,QAAC,MAAD;AACE,MAAA,QAAQ,EAAEG,QADZ;AAEE,MAAA,MAAM,EAAEJ;AAFV;AAAA;AAAA;AAAA;AAAA,YADD,gBAMC,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,CA1DH;;GAAMF,I;;KAAAA,I;AA4DN,SAASA,IAAT","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Movies } from \"../../Components/Movies/Movies\";\nimport { Preloader } from \"../../Components/Preloader/Preloader\";\nimport { Search } from \"../../Components/Search/Search\";\nimport \"./Main.css\";\n\nconst Main = () => {\n  state = {\n    movies: [],\n    loading: true,\n  };\n\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // componentDidMount() {\n  //   fetch(`http://www.omdbapi.com/?apikey=8d1cc66c&s=Avengers`)\n  //     .then((response) => response.json())\n  //     .then(post => this.setState({\n  //         movies: post.Search,\n  //         loading: false,\n  //     }))\n  // }\n\n  const changeBg = (id) => {\n    const fillArr = this.state.movies.filter((item) => item.imdbID === id);\n    document.body.style.backgroundImage = `url(${fillArr[0].Poster})`;\n  };\n\n  const searchMovie = (movieName, movieType) => {\n      this.setState({\n          loading: true,\n      })\n    fetch(\n      `http://www.omdbapi.com/?apikey=  &s=${movieName}${\n        movieType !== \"all\" ? `&type=${movieType}` : \"\"\n      }`\n    )\n      .then((response) => response.json())\n      .then(post => this.setState({\n        movies: post.Search,\n        loading: false,\n    }))\n  };\n\n  useEffect(() => {\n    fetch(`http://www.omdbapi.com/?apikey=8d1cc66c&s=Avengers`)\n      .then(response => response.json())\n      .then(post => console.log(post))\n  }, [])\n\n    return (\n      <main className=\"mainContainer\">\n        <Search searchMovie={searchMovie} />\n        {!loading ? (\n          <Movies\n            changeBg={changeBg}\n            movies={movies}\n          />\n        ) : (\n          <Preloader />\n        )}\n      </main>\n    );\n  }\n\nexport { Main };\n"]},"metadata":{},"sourceType":"module"}